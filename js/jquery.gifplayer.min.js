(function(b){function a(d,c){this.previewElement=d;this.options=c}a.prototype={activate:function(){this.wrap();this.setGif();this.addControl();this.addEvents()},wrap:function(){this.wrapper=this.previewElement.wrap("<div class='gifplayer-wrapper'></div>").parent();this.wrapper.css("width",this.previewElement.width());this.wrapper.css("height",this.previewElement.height())},setGif:function(){if(this.previewElement.attr("data-gif").length>0){this.options.gifSrc=this.previewElement.attr("data-gif")}this.previewElement.addClass("preview");var e=this.options.gifSrc;var d=this.previewElement.width();var c=this.previewElement.height();this.gifElement=b("<img src='"+e+"' width='"+d+"' height=' "+c+" '/>");this.gifElement.css("cursor","pointer")},addControl:function(){this.playElement=b("<ins class='play-gif'>"+this.options.playText+"</ins>");this.playElement.css("left",this.previewElement.width()/2+this.playElement.width()/2);this.wrapper.append(this.playElement)},addEvents:function(){var c=this;this.playElement.click(function(){c.previewElement.hide();c.playElement.hide();c.wrapper.append(c.gifElement);c.gifElement.click(function(){c.gifElement.remove();c.previewElement.show();c.playElement.show()})})}};b.fn.gifplayer=function(c){this.each(function(){c=b.extend({},b.fn.gifplayer.defaults,c);var d=new a(b(this),c);d.activate()})};b.fn.gifplayer.defaults={playText:"play"}})(jQuery);